<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"blog.anshumansingh.ml","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="Firebase offers a complete SDK in order to easily integrate its different services (database, authentication, etc). We would be looking into integrating the realtime database in a simple unity project">
<meta property="og:type" content="article">
<meta property="og:title" content="Unity: Integrating Firebase Realtime Database!">
<meta property="og:url" content="https://blog.anshumansingh.ml/2021/04/17/Unity-Integrating-Firebase-Realtime-Database/index.html">
<meta property="og:site_name" content="Not A Blog">
<meta property="og:description" content="Firebase offers a complete SDK in order to easily integrate its different services (database, authentication, etc). We would be looking into integrating the realtime database in a simple unity project">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2021-04-17T17:42:00.000Z">
<meta property="article:modified_time" content="2021-04-17T17:54:12.879Z">
<meta property="article:author" content="Anshuman Singh">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://blog.anshumansingh.ml/2021/04/17/Unity-Integrating-Firebase-Realtime-Database/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>Unity: Integrating Firebase Realtime Database! | Not A Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Not A Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://blog.anshumansingh.ml/2021/04/17/Unity-Integrating-Firebase-Realtime-Database/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="Anshuman Singh">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Not A Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Unity: Integrating Firebase Realtime Database!
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2021-04-17 23:12:00 / Modified: 23:24:12" itemprop="dateCreated datePublished" datetime="2021-04-17T23:12:00+05:30">2021-04-17</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Unity/" itemprop="url" rel="index"><span itemprop="name">Unity</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Unity/Game-Development/" itemprop="url" rel="index"><span itemprop="name">Game Development</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>Firebase offers a complete SDK in order to easily integrate its different services (database, authentication, etc). We would be looking into integrating the realtime database in a simple unity project.</p>
<h2 id="Pre-requisites"><a href="#Pre-requisites" class="headerlink" title="Pre-requisites"></a>Pre-requisites</h2><ul>
<li>[✓]  Unity 5.3 or later</li>
<li>[✓]  VSCode(With unity extensions) or visual studio code with c# support</li>
<li>[✓]  Firebase SDK installed</li>
</ul>
<h2 id="End-Goal"><a href="#End-Goal" class="headerlink" title="End Goal"></a>End Goal</h2><p>To Demonstrate reading and writing from the firebase real-time database(from now on referred to as RTDB), We’ll be creating an application that would display the counter value directly from the database, and increase its value by one on clicking a button.</p>
<h2 id="Steps"><a href="#Steps" class="headerlink" title="Steps"></a>Steps</h2><ol>
<li><strong>Configure the Firebase Project</strong><ol>
<li>Create a new firebase project, head to Realtime Database section and create a database. Select test mode for security rules while creating it.</li>
<li>In the rtdb node, create a node “counter”. This would be from where we will be reading data from the unity project.</li>
<li>(Optional) Re-download the google-services.json file and replace it in your unity project to ensure that the rtdb link is configured properly in unity.</li>
</ol>
</li>
<li><strong>Setup Unity Project</strong><ol>
<li>Ensure that the firebase database package is present in the unity project.</li>
<li>Create a simple UI.</li>
<li>Create a DBManager, that will control all the db connections.</li>
</ol>
</li>
</ol>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">using System;</span><br><span class="line">using System.Collections;</span><br><span class="line">using System.Collections.Generic;</span><br><span class="line">using UnityEngine;</span><br><span class="line">using UnityEngine.UI;</span><br><span class="line">using Firebase;</span><br><span class="line">using Firebase.Database;</span><br><span class="line">public class FirebaseDBManager : MonoBehaviour</span><br><span class="line">&#123;</span><br><span class="line">    DatabaseReference reference;</span><br><span class="line">    public Text scoreText;</span><br><span class="line">    <span class="keyword">void</span> Start()</span><br><span class="line">    &#123;</span><br><span class="line">        reference = FirebaseDatabase.DefaultInstance.RootReference;</span><br><span class="line">        FirebaseDatabase.DefaultInstance</span><br><span class="line">       .GetReference(<span class="string">&quot;counter&quot;</span>)</span><br><span class="line">       .ValueChanged += HandleUpdateScore;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    public <span class="keyword">void</span> HandleUpdateScore(object sender, ValueChangedEventArgs args)</span><br><span class="line">    &#123;</span><br><span class="line">        DataSnapshot snapshot = args.Snapshot;</span><br><span class="line">        Debug.Log(snapshot.Value);</span><br><span class="line">        scoreText.text = snapshot.Value.ToString();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public <span class="keyword">void</span> UpdateScore()</span><br><span class="line">    &#123;</span><br><span class="line">        FirebaseDatabase.DefaultInstance</span><br><span class="line">      .GetReference(<span class="string">&quot;counter&quot;</span>)</span><br><span class="line">      .GetValueAsync().ContinueWith(<span class="function"><span class="params">task</span> =&gt;</span></span><br><span class="line">      &#123;</span><br><span class="line">          <span class="keyword">if</span> (task.IsFaulted)</span><br><span class="line">          &#123;</span><br><span class="line">              Debug.LogError(task);</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="keyword">else</span> <span class="keyword">if</span> (task.IsCompleted)</span><br><span class="line">          &#123;</span><br><span class="line">              DataSnapshot snapshot = task.Result;</span><br><span class="line">              int value = int.Parse(Convert.ToString(snapshot.Value));</span><br><span class="line">              value++;</span><br><span class="line">              reference.Child(<span class="string">&quot;counter&quot;</span>).SetValueAsync(value);</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>In short: we have a listener attached to the counter node, and a function which sets the value(on clicking the button), So whenever this function is called, the value is updated in firebase. and As the value is changed, the listener function is also called which updates the UI</p>
<ol start="3">
<li><strong>Run the Project</strong></li>
</ol>
<p>If everything’s done right, the project should work and the value should be updating in the project as well as the database ^ _ ^</p>
<h2 id="Possible-Issues"><a href="#Possible-Issues" class="headerlink" title="Possible Issues:"></a>Possible Issues:</h2><ol>
<li>The build environment is not set correctly. Is should be set to android as firebase sdk currently does not support native environments(Mac/Windows/Linux)</li>
<li>Enable Firebase Realtime Database in the firebase project</li>
<li>Firebase rtdb url may not be present in the google-services.json file</li>
</ol>

    </div>

    
    
    

      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2021/03/08/Cybersecurity-in-30-Days/" rel="prev" title="Ethical Hacking in 30 Days!">
      <i class="fa fa-chevron-left"></i> Ethical Hacking in 30 Days!
    </a></div>
      <div class="post-nav-item">
    <a href="/2021/04/29/Firebase-Security-Rules/" rel="next" title="Understanding Firebase Security Rules">
      Understanding Firebase Security Rules <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Pre-requisites"><span class="nav-number">1.</span> <span class="nav-text">Pre-requisites</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#End-Goal"><span class="nav-number">2.</span> <span class="nav-text">End Goal</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Steps"><span class="nav-number">3.</span> <span class="nav-text">Steps</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Possible-Issues"><span class="nav-number">4.</span> <span class="nav-text">Possible Issues:</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Anshuman Singh"
      src="/images/avatar.jpeg">
  <p class="site-author-name" itemprop="name">Anshuman Singh</p>
  <div class="site-description" itemprop="description"></div>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/MysteriousAcadia" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;MysteriousAcadia" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:wanshumansingh@gmail.com" title="E-Mail → mailto:wanshumansingh@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/not_anshuman" title="Twitter → https:&#x2F;&#x2F;twitter.com&#x2F;not_anshuman" rel="noopener" target="_blank"><i class="fab fa-twitter fa-fw"></i>Twitter</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://youtube.com/channel/UCfv0kzKwu6L-nlqkoZhbFaA" title="YouTube → https:&#x2F;&#x2F;youtube.com&#x2F;channel&#x2F;UCfv0kzKwu6L-nlqkoZhbFaA" rel="noopener" target="_blank"><i class="fab fa-youtube fa-fw"></i>YouTube</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://instagram.com/notanshuman" title="Instagram → https:&#x2F;&#x2F;instagram.com&#x2F;notanshuman" rel="noopener" target="_blank"><i class="fab fa-instagram fa-fw"></i>Instagram</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Anshuman Singh</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
